!function(){function e(r,t,n){var i=e.resolve(r);if(null==i){n=n||r,t=t||"root";var o=new Error('Failed to require "'+n+'" from "'+t+'"');throw o.path=n,o.parent=t,o.require=!0,o}var s=e.modules[i];if(!s._resolving&&!s.exports){var u={};u.exports={},u.client=u.component=!0,s._resolving=!0,s.call(this,u.exports,e.relative(i),u),delete s._resolving,s.exports=u.exports}return s.exports}e.modules={},e.aliases={},e.resolve=function(r){"/"===r.charAt(0)&&(r=r.slice(1));for(var t=[r,r+".js",r+".json",r+"/index.js",r+"/index.json"],n=0;n<t.length;n++){var r=t[n];if(e.modules.hasOwnProperty(r))return r;if(e.aliases.hasOwnProperty(r))return e.aliases[r]}},e.normalize=function(e,r){var t=[];if("."!=r.charAt(0))return r;e=e.split("/"),r=r.split("/");for(var n=0;n<r.length;++n)".."==r[n]?e.pop():"."!=r[n]&&""!=r[n]&&t.push(r[n]);return e.concat(t).join("/")},e.register=function(r,t){e.modules[r]=t},e.alias=function(r,t){if(!e.modules.hasOwnProperty(r))throw new Error('Failed to alias "'+r+'", it does not exist');e.aliases[t]=r},e.relative=function(r){function t(e,r){for(var t=e.length;t--;)if(e[t]===r)return t;return-1}function n(t){var i=n.resolve(t);return e(i,r,t)}var i=e.normalize(r,"..");return n.resolve=function(n){var o=n.charAt(0);if("/"==o)return n.slice(1);if("."==o)return e.normalize(i,n);var s=r.split("/"),u=t(s,"deps")+1;return u||(u=0),n=s.slice(0,u+1).join("/")+"/deps/"+n},n.exists=function(r){return e.modules.hasOwnProperty(n.resolve(r))},n},e.register("component-trim/index.js",function(e,r,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(e){return e.replace(/^\s*/,"")},e.right=function(e){return e.replace(/\s*$/,"")}}),e.register("component-querystring/index.js",function(e,r){var t=r("trim");e.parse=function(e){if("string"!=typeof e)return{};if(e=t(e),""==e)return{};for(var r={},n=e.split("&"),i=0;i<n.length;i++){var o=n[i].split("=");r[o[0]]=null==o[1]?"":decodeURIComponent(o[1])}return r},e.stringify=function(e){if(!e)return"";var r=[];for(var t in e)r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r.join("&")}}),e.register("pivot/index.js",function(e,r,t){function n(e,r,t){t.test&&(r.t=1),(new Image).src=e+"?"+i.stringify(r)}var i=r("querystring"),o={};e=t.exports=function(e){if(!o.app||!o.user)throw new Error("pivot not initialized. use `pivot.init('app_id', 'user_id')`");var r={a:o.app,e:e,u:o.user};n(o.track,r,o)},e.set=function(e,r){o[e]=r},e.init=function(e,r,t){t=t||{},o.app=e,o.user=r,o.host=t.host||"https://api.pivotapp.io",o.track=t.track||o.host+"/track",o.debug=t.debug||!1,o.test=t.test||!1}}),e.alias("component-querystring/index.js","pivot/deps/querystring/index.js"),e.alias("component-querystring/index.js","querystring/index.js"),e.alias("component-trim/index.js","component-querystring/deps/trim/index.js"),"object"==typeof exports?module.exports=e("pivot"):"function"==typeof define&&define.amd?define(function(){return e("pivot")}):this.pivot=e("pivot")}();