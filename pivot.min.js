!function(){function e(t,n,r){var o=e.resolve(t);if(null==o){r=r||t,n=n||"root";var i=new Error('Failed to require "'+r+'" from "'+n+'"');throw i.path=r,i.parent=n,i.require=!0,i}var s=e.modules[o];if(!s._resolving&&!s.exports){var a={};a.exports={},a.client=a.component=!0,s._resolving=!0,s.call(this,a.exports,e.relative(o),a),delete s._resolving,s.exports=a.exports}return s.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],r=0;r<n.length;r++){var t=n[r];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var r=0;r<t.length;++r)".."==t[r]?e.pop():"."!=t[r]&&""!=t[r]&&n.push(t[r]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function r(n){var o=r.resolve(n);return e(o,t,n)}var o=e.normalize(t,"..");return r.resolve=function(r){var i=r.charAt(0);if("/"==i)return r.slice(1);if("."==i)return e.normalize(o,r);var s=t.split("/"),a=n(s,"deps")+1;return a||(a=0),r=s.slice(0,a+1).join("/")+"/deps/"+r},r.exists=function(t){return e.modules.hasOwnProperty(r.resolve(t))},r},e.register("component-trim/index.js",function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}e=n.exports=r,e.left=function(e){return e.replace(/^\s*/,"")},e.right=function(e){return e.replace(/\s*$/,"")}}),e.register("component-querystring/index.js",function(e,t){var n=t("trim");e.parse=function(e){if("string"!=typeof e)return{};if(e=n(e),""==e)return{};for(var t={},r=e.split("&"),o=0;o<r.length;o++){var i=r[o].split("=");t[i[0]]=null==i[1]?"":decodeURIComponent(i[1])}return t},e.stringify=function(e){if(!e)return"";var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}),e.register("kaerus-component-urlparser/index.js",function(e,t,n){function r(e){var t="";return e=e?e:this,t+=o(e),t+=i(e),t+=s(e)}function o(e){var t="";return e=e?e.host:this.host,e&&(e.protocol&&(t+=e.protocol+"://"),e.username&&(t+=e.username+(e.password?":"+e.password:"")+"@"),e.hostname&&(t+=e.hostname),e.port&&(t+=":"+e.port)),t}function i(e){var t="";return e=e?e.path:this.path,e&&(e.base&&(t+="/"+e.base),e.name&&(t+=":"+e.name),e.hash&&(t+="#"+e.hash)),t}function s(e){var t="";return e=e?e.query:this.query,e&&(t="?",e.parts&&(t+=e.parts.join("&"))),t}function a(e){var t,n={};if(Object.defineProperty(n,"toString",{enumerable:!1,value:r}),"string"==typeof e){var o;o=u.exec(e),(o[1]||o[4])&&(n.host={},o[1]&&(n.host.protocol=o[1]),o[2]&&(n.host.username=o[2]),o[3]&&(n.host.password=o[3]),o[4]&&(n.host.hostname=o[4]),o[5]&&(n.host.port=o[5])),o[6]&&(n.path={},o[7]&&(n.path.base=o[7]),o[8]&&(n.path.name=o[8]),o[9]&&(n.path.hash=o[9])),o[10]&&(n.query={},n.query.parts=o[10].split("&"),n.query.parts.length&&(n.query.params={},n.query.parts.forEach(function(e){t=e.split("="),n.query.params[t[0]]=t[1]})))}return n}var u=/^(?:(?:([A-Za-z]+):?\/{2})?(?:(\w+)?:?([^\x00-\x1F^\x7F^:]*)@)?([\w\-\.]+)?(?::(\d+))?)\/?(([^\x00-\x1F^\x7F^\#^\?^:]+)?(?::([^\x00-\x1F^\x7F^\#^\?]+))?(?:#([^\x00-\x1F^\?]+))?)(?:\?(.*))?$/;n.exports.url=r,n.exports.host=o,n.exports.path=i,n.exports.query=s,n.exports.parse=a}),e.register("component-cookie/index.js",function(e,t,n){function r(e,t,n){n=n||{};var r=a(e)+"="+a(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.secure&&(r+="; secure"),document.cookie=r}function o(){return s(document.cookie)}function i(e){return o()[e]}function s(e){var t,n={},r=e.split(/ *; */);if(""==r[0])return n;for(var o=0;o<r.length;++o)t=r[o].split("="),n[u(t[0])]=u(t[1]);return n}var a=encodeURIComponent,u=decodeURIComponent;n.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return r(e,t,n);case 1:return i(e);default:return o()}}}),e.register("pivot/browser.js",function(e,t,n){function r(e,t,n){if(e=e+"?"+u.stringify(t),!n)return(new Image).src=e;var r=s(e);return r?(r.onload=function(){try{n(null,JSON.parse(xhr.responseText))}catch(e){n(e)}},r.onerror=function(){n(new Error("Request could not be completed"))},r.ontimeout=function(){n()},r.send(),void 0):n(new Error("CORS not supported"))}function o(e){return e=e||"pivot",function(t,n){return"function"==typeof t?t(null,p(e)):(p(e,t),n(),void 0)}}function i(e){var t={};return e=a(e),t.app=e.host.username,e.host.username=null,t.url=e.toString(),t}function s(e){var t=new XMLHttpRequest;return"withCredentials"in t?(t.open("GET",e,!0),t):"undefined"!=typeof XDomainRequest?(t=new XDomainRequest,t.open("GET",e),t):void 0}var a=t("urlparser").parse,u=t("querystring"),p=t("cookie"),c=t("./util");e=n.exports=c.createClient(null,{parse:i,get:r,token:o}),e.client=function(e,t){return t=t||{},t.get=t.get||r,t.token=t.token||o(t.cookie),t.parse=t.parse||i,c.createClient(e,t)}}),e.register("pivot/util.js",function(e){function t(e,t){t=t||{};var n=t.parse(e);return n.events=n.url+"/events",n.assignments=n.url+"/assignments",n.debug=t.debug||!1,n.test=t.test||!1,n.get=t.get,n.token=t.token,n}function n(e,t){if(!t.app)return console.error("pivot not initialized. use `pivot.init('https://myappid:@clients.pivotapp.io')`");var n={a:t.app,e:e};return t.test&&(n.t=1),"string"==typeof e?t.get(t.events,n):(delete n.e,t.get(t.assignments,n,function(n,r){return n?e(n):(t.token(r.token,function(t){return t?e(t):(e(null,r.assignments),void 0)}),void 0)}),void 0)}e.createClient=function(e,r){function o(e){return n(e,i)}var i=e?t(e,r):{};return o.set=function(e,t){i[e]=t},o.init=function(e,n){n=n||r||{},n.get=n.get||r.get,n.token=n.token||r.token,i=t(e,n||r)},o}}),e.alias("component-querystring/index.js","pivot/deps/querystring/index.js"),e.alias("component-querystring/index.js","querystring/index.js"),e.alias("component-trim/index.js","component-querystring/deps/trim/index.js"),e.alias("kaerus-component-urlparser/index.js","pivot/deps/urlparser/index.js"),e.alias("kaerus-component-urlparser/index.js","urlparser/index.js"),e.alias("component-cookie/index.js","pivot/deps/cookie/index.js"),e.alias("component-cookie/index.js","cookie/index.js"),e.alias("pivot/browser.js","pivot/index.js"),"object"==typeof exports?module.exports=e("pivot"):"function"==typeof define&&define.amd?define(function(){return e("pivot")}):this.pivot=e("pivot")}();