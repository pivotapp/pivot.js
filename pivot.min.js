!function(){function e(t,r,n){var i=e.resolve(t);if(null==i){n=n||t,r=r||"root";var o=new Error('Failed to require "'+n+'" from "'+r+'"');throw o.path=n,o.parent=r,o.require=!0,o}var s=e.modules[i];return s.exports||(s.exports={},s.client=s.component=!0,s.call(this,s.exports,e.relative(i),s)),s.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var r=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],n=0;n<r.length;n++){var t=r[n];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var r=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var n=0;n<t.length;++n)".."==t[n]?e.pop():"."!=t[n]&&""!=t[n]&&r.push(t[n]);return e.concat(r).join("/")},e.register=function(t,r){e.modules[t]=r},e.alias=function(t,r){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[r]=t},e.relative=function(t){function r(e,t){for(var r=e.length;r--;)if(e[r]===t)return r;return-1}function n(r){var i=n.resolve(r);return e(i,t,r)}var i=e.normalize(t,"..");return n.resolve=function(n){var o=n.charAt(0);if("/"==o)return n.slice(1);if("."==o)return e.normalize(i,n);var s=t.split("/"),a=r(s,"deps")+1;return a||(a=0),n=s.slice(0,a+1).join("/")+"/deps/"+n},n.exists=function(t){return e.modules.hasOwnProperty(n.resolve(t))},n},e.register("yields-xhr/index.js",function(e,t,r){r.exports=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("msxml2.xmlhttp.6.0")}catch(e){}try{return new ActiveXObject("msxml2.xmlhttp.3.0")}catch(e){}try{return new ActiveXObject("msxml2.xmlhttp")}catch(e){}}}),e.register("component-trim/index.js",function(e,t,r){function n(e){return e.replace(/^\s*|\s*$/g,"")}e=r.exports=n,e.left=function(e){return e.replace(/^\s*/,"")},e.right=function(e){return e.replace(/\s*$/,"")}}),e.register("component-querystring/index.js",function(e,t){var r=t("trim");e.parse=function(e){if("string"!=typeof e)return{};if(e=r(e),""==e)return{};for(var t={},n=e.split("&"),i=0;i<n.length;i++){var o=n[i].split("=");t[o[0]]=null==o[1]?"":decodeURIComponent(o[1])}return t},e.stringify=function(e){if(!e)return"";var t=[];for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}}),e.register("pivot/index.js",function(e,t,r){var n=t("./track"),i={};e=r.exports=function(e){if(!i.app||!i.user)throw new Error("pivot not initialized. use `pivot.init('app_id', 'user_id')`");var t={a:i.app,e:e,u:i.user};n(i.track,t,i)},e.set=function(e,t){i[e]=t},e.init=function(e,t,r){r=r||{},i.app=e,i.user=t,i.host=r.host||"https://api.pivotapp.io",i.track=r.track||i.host+"/track",i.debug=r.debug||!1,i.test=r.test||!1}}),e.register("pivot/track.js",function(e,t,r){var n=t("xhr"),i=t("querystring");r.exports=function(e,t,r){r.test&&(t.t=1);var o=e+"?"+i.stringify(t);if(r.img){var s=document.createElement("img");return s.src=o,document.body.appendChild(s)}if(n&&r.xhr){var a=new XMLHttpRequest;return a.open("GET",o,!0),a.send(null)}var u=document.createElement("script");u.type="text/javascript",u.async=!0,u.defer=!0,u.src=o;var p=document.getElementsByTagName("script")[0];p.parentNode.insertBefore(u,p)}}),e.alias("yields-xhr/index.js","pivot/deps/xhr/index.js"),e.alias("yields-xhr/index.js","xhr/index.js"),e.alias("component-querystring/index.js","pivot/deps/querystring/index.js"),e.alias("component-querystring/index.js","querystring/index.js"),e.alias("component-trim/index.js","component-querystring/deps/trim/index.js"),"object"==typeof exports?module.exports=e("pivot"):"function"==typeof define&&define.amd?define(function(){return e("pivot")}):this.pivot=e("pivot")}();